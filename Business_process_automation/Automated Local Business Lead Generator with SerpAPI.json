{
  "name": "Automated Local Business Lead Generator with SerpAPI",
  "nodes": [
    {
      "parameters": {
        "url": "https://serpapi.com/search",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "api_key",
              "value": "37f77012f224424cbb96072380dbe94af277378d05344da5101289143c35b0d0"
            },
            {
              "name": "engine",
              "value": "google_maps"
            },
            {
              "name": "type",
              "value": "search"
            },
            {
              "name": "google_domain",
              "value": "google.com"
            },
            {
              "name": "q",
              "value": "={{ $json.keyword }} {{ $json['city or spesific location'] }}"
            },
            {
              "name": "gl",
              "value": "={{ $json['country code'] }}"
            }
          ]
        },
        "options": {}
      },
      "id": "cf739e22-fbc6-47d6-b075-557dd37af21e",
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -2288,
        848
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Business Information:\n\nName: {{ $json.title }}\nAddress: {{ $json.address }}\nRating: {{ $json.rating }} (based on {{ $json.reviews }} reviews)\nTypes: {{ $json.types }}\nPhone: {{ $json.phone }}\nWebsite: {{ $json.website }}\nReviews Link: {{ $json.reviews_link }}",
        "messages": {
          "messageValues": [
            {
              "message": "=You are a digital business consultant. Based on the business information below, write a professional message directly addressed to the business owner. Email must always be in professional yet easy-going english.\nThe message should include:\n\nA brief summary of how the business is currently positioned (based on business type and typical customers)\nWhat customers likely appreciate most about the business\nAreas that could be improved for better visibility, engagement, or conversions\nOne actionable suggestion or opportunity for growth\nA short, persuasive closing line or CTA inviting them to improve their online presence or marketing strategy\nUse a helpful and respectful tone as if offering a free evaluation. Write in the language corresponding to the country code: {{ $('Get row(s) in sheet').item.json['country code'] }}."
            }
          ]
        },
        "batching": {}
      },
      "id": "80bd37de-6981-4281-9a7e-f7e485a2d08f",
      "name": "Basic LLM Chain",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        -992,
        736
      ],
      "typeVersion": 1.7
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ",
          "mode": "list",
          "cachedResultName": "Automated Local Business Lead Generator using AI, Gmail & Telegram",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 910745642,
          "mode": "list",
          "cachedResultName": "Results",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit#gid=910745642"
        },
        "columns": {
          "value": {
            "phone": "={{ \"https://wa.me/\" + $json.phone.replace(/\\D/g, \"\") }}",
            "title": "={{ $json.title }}",
            "types": "={{ $json.types }}",
            "rating": "={{ $json.rating }}",
            "address": "={{ $json.address }}",
            "data_id": "={{ $json.data_id }}",
            "reviews": "={{ $json.reviews }}",
            "website": "={{ $json.website }}",
            "reviews_link": "={{ $json.reviews_link }}"
          },
          "schema": [
            {
              "id": "data_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "data_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "address",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "address",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "rating",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "rating",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "reviews",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews_link",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "reviews_link",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "types",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "types",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "phone",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "website",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "website",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "review_summary",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "review_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "instagram",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "instagram",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tiktok",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tiktok",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "web_summary",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "web_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_2",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_2_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "data_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "47de736f-8ec1-4e86-b6ea-32d86c03d19b",
      "name": "Append or update row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1856,
        848
      ],
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HBUcSC8TyEZnv7nr",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "6617255993",
        "text": "=----\n\nLatest Data for Follow Up\n\nBusiness Name: {{ $('Limit').item.json.title }}\nBusiness Types : {{ $('Limit').item.json.types }}\nLocation: {{ $('Limit').item.json.address }}\n\nWhatsapp Link: \n{{ $('Limit').item.json.phone }}\n\n----",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "8d94284b-c08f-4351-a05c-9c13182ef165",
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -224,
        912
      ],
      "webhookId": "73212779-f86d-4e82-bdd2-605adac6069f",
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "hkggKKxNuqkNxHIC",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ",
          "mode": "list",
          "cachedResultName": "Automated Local Business Lead Generator using AI, Gmail & Telegram",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit#gid=0"
        },
        "options": {}
      },
      "id": "b19a5d9f-b401-418f-88dc-779340e755da",
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2496,
        848
      ],
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HBUcSC8TyEZnv7nr",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "6a19bdfe-33c6-4786-897a-1d292f647db6",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $('Limit').item.json.website }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "cd879343-ce4f-496e-bb27-087b5e9a18a5",
      "name": "If has a web",
      "type": "n8n-nodes-base.if",
      "position": [
        -448,
        736
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ",
          "mode": "list",
          "cachedResultName": "Automated Local Business Lead Generator using AI, Gmail & Telegram",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 910745642,
          "mode": "list",
          "cachedResultName": "Results",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit#gid=910745642"
        },
        "columns": {
          "value": {
            "data_id": "={{ $('Limit').item.json.data_id }}"
          },
          "schema": [
            {
              "id": "data_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "data_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "address",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "address",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "rating",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "rating",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "reviews",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews_link",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "reviews_link",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "types",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "types",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "phone",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "website",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "website",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "review_summary",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "review_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "instagram",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "instagram",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tiktok",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tiktok",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "web_summary",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "web_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "whatsapp_link_2",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_2_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "data_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "ecbf1cb6-da20-4280-b363-a1547634276d",
      "name": "Append or update row in sheet2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -224,
        688
      ],
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HBUcSC8TyEZnv7nr",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "=6617255993",
        "text": "=----\n\nLatest Data for Follow Up\n\nBusiness Name: {{ $('Limit').item.json.title }}\nBusiness Types : {{ $('Limit').item.json.types }}\nLocation: {{ $('Limit').item.json.address }}\n\nWhatsapp Link: \n{{ $('Limit').item.json.phone }}\n\n----",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "93b5e832-2163-428d-a87f-1e84ab008243",
      "name": "Send a text message1",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -16,
        688
      ],
      "webhookId": "6f77a0b9-23cb-4a4b-8f23-c47f816e4fde",
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "hkggKKxNuqkNxHIC",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "fieldToSplitOut": "local_results",
        "options": {}
      },
      "id": "f6b5de8e-98f7-4c7e-9750-e83573bb9e5e",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -2080,
        848
      ],
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ",
          "mode": "list",
          "cachedResultName": "Automated Local Business Lead Generator using AI, Gmail & Telegram",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 910745642,
          "mode": "list",
          "cachedResultName": "Results",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit#gid=910745642"
        },
        "options": {}
      },
      "id": "93e29485-3aba-414f-8416-4b603a04d9fd",
      "name": "Get row(s) in sheet1",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1632,
        848
      ],
      "executeOnce": true,
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HBUcSC8TyEZnv7nr",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "febcf30b-1a4b-4ac3-971a-dcb5f471dee0",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              },
              "leftValue": "={{ $json.review_summary }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "99f02164-23cc-42ea-9ba0-e56a63af0b68",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        -1408,
        848
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "maxItems": 5
      },
      "id": "29052af8-6efc-4d59-a1c6-a514784534bc",
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "position": [
        -1200,
        736
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ",
          "mode": "list",
          "cachedResultName": "Automated Local Business Lead Generator using AI, Gmail & Telegram",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 910745642,
          "mode": "list",
          "cachedResultName": "Results",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1i84ByatuxvgQYm7SvBMgFxgZCkflFeMSJuFNc3hk-uQ/edit#gid=910745642"
        },
        "columns": {
          "value": {
            "data_id": "={{ $('Limit').item.json.data_id }}",
            "review_summary": "={{ $json.text }}"
          },
          "schema": [
            {
              "id": "data_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "data_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "address",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "address",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "rating",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "rating",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "reviews",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews_link",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "reviews_link",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "types",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "types",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "phone",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "website",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "website",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "review_summary",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "review_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_1_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_1_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "instagram",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "instagram",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tiktok",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tiktok",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "web_summary",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "web_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_2",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "whatsapp_link_2_status",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "whatsapp_link_2_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "data_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "e115ccaa-26e5-4db9-a0e5-b317ec701e3b",
      "name": "Append or update row in sheet3",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -656,
        736
      ],
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HBUcSC8TyEZnv7nr",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {},
      "id": "6eb658de-538d-491c-8577-a0ec949e20cf",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -1200,
        1120
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "- Run workflows automatically based on a specified schedule or manually.\n- Fetch data from a Google Sheet containing a list of keywords and search locations.\n- Send requests to SerpAPI to retrieve business data from Google Maps based on input from the Sheet.",
        "height": 380,
        "width": 580,
        "color": 2
      },
      "id": "ea70bd57-ab0e-4a0b-979c-f5cb2c5f8fe1",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2736,
        640
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "- Break the local results array from the SerpAPI JSON output into individual items for individual processing.\n- Save each business result to a Google Sheet (results tab), using the ID data as the matching column.\n- Retrieve data from the results sheet for further analysis or processing.\n- Filter unsummarized data for further processing.",
        "height": 380,
        "width": 800,
        "color": 4
      },
      "id": "5e8f3864-658f-42b0-b018-f2be853f55ea",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2096,
        640
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "- Limit the number of items submitted to LLM for efficiency (e.g., only 5 businesses per batch)\n- Generate a review summary using a business information-based prompt.\n- The AI model used by the LLM Chain node above.\n- Save the review_summary results to Google Sheets (results tab), matching based on ID data.\n- Check if the business has a website for further processing.",
        "height": 560,
        "width": 920,
        "color": 5
      },
      "id": "c749023f-0c73-4e04-a57d-1aaa778f7f7b",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        496
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "- Save analysis results to Google Sheets.\n- Send automatic notifications to Telegram once data is processed and saved.",
        "height": 388,
        "width": 500,
        "color": 7
      },
      "id": "50783449-2610-4f4c-b206-d3ad0a652635",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -272,
        496
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1072,
        944
      ],
      "id": "e9394801-312b-4c53-98ee-6aa71aeffef2",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "MpzfGESfeXbJMoQ5",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -2720,
        848
      ],
      "id": "419b3a8f-c8f6-482c-9f97-2fccc402fb7e",
      "name": "When clicking ‘Execute workflow’"
    }
  ],
  "pinData": {},
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Append or update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If has a web": {
      "main": [
        [
          {
            "node": "Append or update row in sheet2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Append or update row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet1": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet2": {
      "main": [
        [
          {
            "node": "Send a text message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet3": {
      "main": [
        [
          {
            "node": "If has a web",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "26d24013-5273-49bb-8542-ccbc0d27c49b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "edb67d3a7f9d12c7abb88f04023272f13c5753dec2ada987b4428826f48ef7ab"
  },
  "id": "Oj1SOjAD10c2Fc8n",
  "tags": []
}