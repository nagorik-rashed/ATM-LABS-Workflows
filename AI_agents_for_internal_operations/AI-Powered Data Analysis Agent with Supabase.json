{
  "name": "Template | Your first AI Data Analyst",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "id": "5ad126c1-95b4-42c7-abbf-b9fd56073695",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        -1632,
        -880
      ],
      "webhookId": "cdc03fce-33b6-4eed-86b5-f628994e5e31",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a helpful assistant.\nCurrent timestamp is {{ $now }}",
          "maxIterations": 15
        }
      },
      "id": "74c9c101-7c2a-478b-b360-5f18b81747a2",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -1408,
        -880
      ],
      "typeVersion": 1.7
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "id"
        },
        "options": {
          "temperature": 0.2
        }
      },
      "id": "3f18f6b9-61d8-453f-8040-48c33e21bc75",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -1488,
        -640
      ],
      "typeVersion": 1.2,
      "credentials": {
        "openAiApi": {
          "id": "MmEddsmkFPd1ugOz",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {},
      "id": "696c0c53-7794-4986-8ed3-d83477c1b2bc",
      "name": "Calculator",
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "position": [
        -752,
        -816
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "name": "records_by_date_and_or_status",
        "description": "Use this tool to get records filtered by date. You can also filter by status at the same time, if you want.",
        "workflowId": {
          "__rl": true,
          "value": "xogwVAWDhySzB02e",
          "mode": "list",
          "cachedResultName": "Template | Your first AI Data Analyst"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "start_date": "={{ $fromAI(\"start_date\", \"Start date in format YYYY-MM-DD\", \"string\") }}",
            "end_date": "={{ $fromAI(\"end_date\", \"End date in format YYYY-MM-DD\", \"string\") }}",
            "status": "={{ $fromAI(\"status\", \"Status of the transaction. Can be Completed, Refund or Error. Leave empty if you don't need this now.\", \"string\") }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "start_date",
              "displayName": "start_date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "end_date",
              "displayName": "end_date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "id": "f5fdb020-4841-4631-b68d-3aca0fbb3d6e",
      "name": "Records by date",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        -912,
        -1264
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "content": "## Some questions to try\nThere's a red button on this page that you can click to chat with the AI.\n\nTry asking it these questions:\n\n- How many refunds in January and what was the amount refunded?\n\n- How many successful sales did we have in January 2025 and what was the final income of those?\n\n- What is the most frequent reason for refunds?",
        "height": 340,
        "width": 320,
        "color": 4
      },
      "id": "4a2047a1-5e8c-4dd5-b6fb-05ac20decd77",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2208,
        -912
      ],
      "typeVersion": 1
    },
    {
      "parameters": {},
      "id": "d725d8ce-d6a6-4381-9e63-6584f2df5add",
      "name": "Buffer Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -1280,
        -640
      ],
      "typeVersion": 1.3
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "Task",
        "limit": 100
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        -1168,
        -576
      ],
      "id": "2b2162a9-214e-48c1-b76d-e2222369a878",
      "name": "Get transactions by product name",
      "credentials": {
        "supabaseApi": {
          "id": "EtyAOloc6mONpaVH",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "Task",
        "limit": 100
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        -816,
        -640
      ],
      "id": "812b54cc-41cd-4609-98dd-b6a1ef18cdb7",
      "name": "Get all transactions",
      "credentials": {
        "supabaseApi": {
          "id": "EtyAOloc6mONpaVH",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "tableId": "Task",
        "filters": {
          "conditions": [
            {
              "keyName": "Sale ID",
              "condition": "eq",
              "keyValue": "S1234"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        -960,
        -480
      ],
      "id": "7290379a-14c6-4501-abe5-6ddaa1c994af",
      "name": "Delete a row in Supabase",
      "credentials": {
        "supabaseApi": {
          "id": "EtyAOloc6mONpaVH",
          "name": "Supabase account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Calculator": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Records by date": {
      "ai_tool": [
        []
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get transactions by product name": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get all transactions": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete a row in Supabase": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "82f04ab7-289d-4114-bc6c-c461297b9ee4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "b111f235aa596ab07e577bb95b3f49e73715f6f5b0b572f8d54d660382634c3c"
  },
  "id": "xogwVAWDhySzB02e",
  "tags": []
}